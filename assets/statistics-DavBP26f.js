import{r as a,j as e}from"./index-Cr8WPmXE.js";function y(){const[t,i]=a.useState({}),[d,h]=a.useState([]),[l,p]=a.useState(""),[r,j]=a.useState(null);a.useEffect(()=>{const s=async()=>{const o=await(await fetch("php/getEmployeeStatistics.php")).json();i(o)},n=async()=>{const o=await(await fetch("php/getJobGrades.php")).json();h(o)};s(),n()},[]);const x=async s=>{s.preventDefault();const c=await(await fetch(`php/getGradeStatistics.php?grade=${l}`)).json();j(c)};return e.jsxs("div",{children:[e.jsx("h2",{children:"員工基本資料統計"}),e.jsxs("div",{children:[e.jsx("h3",{children:"基本統計"}),e.jsxs("p",{children:["員工總數：",t.totalEmployees]}),e.jsxs("p",{children:["平均年齡：",t.averageAge]}),e.jsxs("p",{children:["平均薪資：",t.averageSalary]})]}),e.jsxs("div",{children:[e.jsx("h3",{children:"職等分群統計"}),e.jsxs("form",{onSubmit:x,children:[e.jsx("select",{value:l,onChange:s=>p(s.target.value),children:d.map((s,n)=>e.jsx("option",{value:s.job_grade,children:s.job_grade},n))}),e.jsx("button",{type:"submit",children:"查詢"})]}),r&&e.jsxs("div",{children:[e.jsxs("p",{children:["該職等人數：",r.currentCount]}),e.jsxs("p",{children:["該職等及以下人數：",r.belowCount]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{children:"薪資統計"}),e.jsxs("p",{children:["全年總薪資：",t.totalYearlySalary]}),e.jsxs("p",{children:["每月總薪資：",t.totalMonthlySalary]}),e.jsxs("p",{children:["每周總薪資：",t.totalWeeklySalary]})]})]})}export{y as default};
