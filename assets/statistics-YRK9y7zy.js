import{r as e,j as t}from"./index-Cr8WPmXE.js";function A(){const[c,r]=e.useState({allyCount:0,nonAllyCount:0}),[u,h]=e.useState([]),[i,d]=e.useState(""),[a,j]=e.useState(null),[y,x]=e.useState([]),[l,S]=e.useState(""),[p,C]=e.useState(null);e.useEffect(()=>{(async()=>{const s=await(await fetch("php/getAllyStats.php")).json();r(s);const v=await(await fetch("php/getContinentList.php")).json();h(v);const g=await(await fetch("php/getCountryList.php")).json();x(g)})()},[]);const m=async n=>{n.preventDefault();const s=await(await fetch(`php/getContinentAllyStats.php?continent=${i}`)).json();j(s)},f=async n=>{n.preventDefault();const s=await(await fetch(`php/getPopulationStats.php?country=${l}`)).json();C(s)};return t.jsxs("div",{children:[t.jsx("h2",{children:"統計頁面"}),t.jsxs("div",{children:[t.jsx("h3",{children:"邦交國與非邦交國統計"}),t.jsxs("p",{children:["邦交國數量：",c.allyCount]}),t.jsxs("p",{children:["非邦交國數量：",c.nonAllyCount]})]}),t.jsxs("div",{children:[t.jsx("h3",{children:"查詢某一洲邦交與非邦交國統計"}),t.jsxs("form",{onSubmit:m,children:[t.jsx("select",{value:i,onChange:n=>d(n.target.value),children:u.map((n,o)=>t.jsx("option",{value:n.continent_name,children:n.continent_name},o))}),t.jsx("button",{type:"submit",children:"查詢"})]}),a&&t.jsxs("div",{children:[t.jsxs("p",{children:["邦交國數量：",a.allyCount]}),t.jsxs("p",{children:["非邦交國數量：",a.nonAllyCount]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{children:"查詢或統計國民人數"}),t.jsxs("form",{onSubmit:f,children:[t.jsx("select",{value:l,onChange:n=>S(n.target.value),children:y.map(n=>t.jsx("option",{value:n.country_name,children:n.country_name},n.country_code))}),t.jsx("button",{type:"submit",children:"查詢"})]}),p&&t.jsx("div",{children:t.jsxs("p",{children:["總國民人數：",p.population]})})]})]})}export{A as default};
